{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 718968457da92d22c240","webpack:///./src/index.js"],"names":["valueOf","_value","update","value","newValue","_isFrozen","_reducer","undefined","_inputs","map","input","_isQuiet","notify","_listeners","forEach","listener","trigger","setReducer","reducerFn","arguments","length","Error","TypeError","setInput","inputs","listenTo","liveValues","liveValue","hasOwnProperty","Array","isArray","push","listenToInput","freeze","unfreeze","quiet","unquiet","prototype","setInputs","listenToInputs","itsAlive","initialValue","Object","assign","create"],"mappings":"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","file":"itsAlive.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"itsAlive\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"itsAlive\"] = factory();\n\telse\n\t\troot[\"itsAlive\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 718968457da92d22c240","\r\nfunction valueOf() {\r\n  return this._value\r\n}\r\n\r\nfunction update(value) {\r\n  let newValue\r\n\r\n  // if frozen -> don't update\r\n  if(this._isFrozen) return this\r\n\r\n  // if explicit update -> don't use reducer/inputs\r\n  // else if -> set new value to undefined\r\n  // else -> use reducer/inputs to update\r\n  if(typeof value !== 'undefined') {\r\n    newValue = value\r\n  } else if(typeof this._reducer !== 'function') {\r\n    newValue = undefined\r\n  } else {\r\n    newValue = this._reducer(...this._inputs.map(input=>input.valueOf()))\r\n  }\r\n\r\n  // if new value is undefined -> don't update, don't notify\r\n  //  note: new value is undefined when (given no explicit value)...\r\n  //    (1) reducer is not a function\r\n  //    (2) reducer returned an undefined value\r\n  if(typeof newValue === 'undefined') return this\r\n  this._value = newValue\r\n\r\n  // notify\r\n  //  if not quiet -> notify\r\n  //  that is: if quiet -> don't notify\r\n  if(!this._isQuiet) this.notify()\r\n\r\n  return this\r\n}\r\n\r\nfunction notify() {\r\n  this._listeners.forEach(listener=>{\r\n    listener.trigger._value = this\r\n    listener.update()\n  })\r\n  return this\r\n}\r\n\r\nfunction setReducer(reducerFn) {\r\n  if(arguments.length > 1) throw new Error('expected single argument')\r\n  if(typeof reducerFn !== 'function') throw new TypeError('expected a function')\r\n  this._reducer = reducerFn\r\n  return this\r\n}\r\n\r\nfunction setInput(...inputs) {\r\n  this._inputs = inputs\r\n  return this\r\n}\r\n\r\nfunction listenTo(...liveValues) {\r\n  liveValues.forEach((liveValue) => {\r\n    if(!liveValue.hasOwnProperty('_listeners') || !Array.isArray(liveValue._listeners)) {\r\n      throw new TypeError('Expected a live value')\r\n    }\r\n    liveValue._listeners.push(this)\r\n    return liveValue\r\n  })\r\n  return this\r\n}\r\n\r\nfunction listenToInput(...inputs) {\r\n  this.setInput(...inputs)\r\n  this.listenTo(...inputs)\r\n  return this\r\n}\r\n\r\nfunction freeze() {\r\n  this._isFrozen = true\r\n  return this\r\n}\r\n\r\nfunction unfreeze() {\r\n  this._isFrozen = false\r\n  return this\r\n}\r\n\r\nfunction quiet() {\r\n  this._isQuiet = true\r\n  return this\r\n}\r\n\r\nfunction unquiet() {\r\n  this._isQuiet = false\r\n  return this\r\n}\r\n\r\nconst prototype = {\r\n  valueOf,\r\n  update,\n  notify,\r\n  setReducer,\r\n  setInput,\r\n  setInputs: setInput,\r\n  listenTo,\r\n  listenToInput,\r\n  listenToInputs: listenToInput,\r\n  freeze,\r\n  unfreeze,\r\n  quiet,\r\n  unquiet\r\n}\r\n\r\nfunction itsAlive(initialValue = null) {\r\n  return Object.assign(Object.create(prototype), {\r\n    _value: initialValue,\r\n    _reducer: null,\r\n    _inputs: [],\r\n    _listeners: [],\r\n    _isFrozen: false,\r\n    _isQuiet: false,\r\n    trigger: {\n      _value: null,\r\n      valueOf() { return this._value }\r\n    }\r\n  })\r\n}\r\n\r\nexport default itsAlive\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}